<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LLM Generated Code Documentation</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body.with-nav {
      padding-top: 60px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      min-height: 100vh;
    }

    .form-container {
      background: white;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      max-width: 1200px;
      margin: 40px auto;
      width: 100%;
    }

    .page-header {
      text-align: center;
      margin-bottom: 40px;
      padding: 60px 30px;
      background: linear-gradient(135deg, #17408B 0%, #C9082A 100%);
      border-radius: 20px;
      color: white;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .page-header h1 {
      font-size: 3em;
      margin-bottom: 15px;
      font-weight: 700;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      position: relative;
      z-index: 1;
    }

    .page-header p {
      font-size: 1.2em;
      opacity: 0.9;
      position: relative;
      z-index: 1;
      margin: 0;
    }

    h2 {
      color: #17408B;
      border-bottom: 3px solid #C9082A;
      padding-bottom: 10px;
      margin-top: 40px;
    }

    h3 {
      color: #C9082A;
      margin-top: 30px;
    }

    .code-section {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 12px;
      margin: 20px 0;
      border-left: 4px solid #17408B;
    }

    .code-block {
      background: #2d3748;
      color: #e2e8f0;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 15px 0;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.5;
    }

    .file-path {
      background: #17408B;
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.9em;
      font-weight: bold;
      margin-bottom: 15px;
      display: inline-block;
    }

    .llm-note {
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
      border-left: 4px solid #ffc107;
    }

    .generated-tag {
      background: #28a745;
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.7em;
      font-weight: bold;
      margin-left: 10px;
    }

    .manual-tag {
      background: #6c757d;
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.7em;
      font-weight: bold;
      margin-left: 10px;
    }

    .code-highlight {
      background: #4a5568;
      padding: 2px 6px;
      border-radius: 4px;
      color: #f7fafc;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .stat-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
    }

    .stat-number {
      font-size: 2.5em;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .stat-label {
      font-size: 1.1em;
      opacity: 0.9;
    }
  </style>
</head>
<body class="with-nav">
  <div class="form-container">
    <!-- Page Header -->
    <div class="page-header">
      <h1>ü§ñ LLM Generated Code</h1>
      <p>Complete documentation of all AI-assisted code generation</p>
    </div>

    <!-- Statistics -->
    <div class="stats">
      <div class="stat-card">
        <div class="stat-number">85%</div>
        <div class="stat-label">LLM Generated</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">15%</div>
        <div class="stat-label">Manual Code</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">12</div>
        <div class="stat-label">Files Created</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">2000+</div>
        <div class="stat-label">Lines of Code</div>
      </div>
    </div>

    <!-- Introduction -->
    <div class="llm-note">
      <h3>üìù Important Note</h3>
      <p>This document catalogs all code that was generated or significantly assisted by Large Language Models (LLMs) during the development of this NBA Jersey Store project. The LLM was used as a coding assistant to help with implementation, debugging, and optimization.</p>
    </div>

    <!-- Server Files -->
    <h2>üñ•Ô∏è Server-Side Code (Node.js)</h2>
    
    <div class="code-section">
      <div class="file-path">server/server.js</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">90% Generated</span></p>
      <p><strong>Description:</strong> Main server file with Express.js setup, middleware configuration, and route registration.</p>
      <div class="code-block">
const express = require('express');
const app = express();
const path = require('path');
const cookieParser = require('cookie-parser');
const dosLimiter = require('./dos-protection');

// Middleware
app.use(express.json());
app.use(cookieParser());
app.use(dosLimiter);
app.use(express.static(path.join(__dirname, '../client')));

// Routes
app.use(require('./register-server'));
app.use(require('./login-server'));
app.use(require('./store-server'));
app.use(require('./logout-server'));
app.use(require('./cart-server'));
app.use(require('./checkout-server'));
app.use(require('./myitems-server'));
app.use(require('./admin-server'));

// Start
const PORT = 3000;
app.listen(PORT, () => {
  console.log(`Server running at http://localhost:${PORT}`);
});
      </div>
    </div>

    <div class="code-section">
      <div class="file-path">server/admin-server.js</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">95% Generated</span></p>
      <p><strong>Description:</strong> Admin panel server routes for activity monitoring and product management.</p>
      <div class="code-block">
const express = require('express');
const router = express.Router();
const fs = require('fs').promises;
const path = require('path');
const persist = require('./persist_module');

// Activity monitoring with prefix filtering
router.get('/admin-activity', async (req, res) => {
  try {
    const prefix = (req.query.prefix || '').toLowerCase();
    const data = await fs.readFile(ACTIVITY_FILE, 'utf-8');
    let activity = JSON.parse(data);

    if (prefix) {
      activity = activity.filter(
        a => a.username && a.username.toLowerCase().startsWith(prefix)
      );
    }

    res.json(activity);
  } catch (err) {
    console.error('Error reading activity file:', err);
    res.json([]);
  }
});

// Product management routes
router.get('/admin-products', async (req, res) => {
  const products = await persist.readJSON('products.json');
  res.json(Object.values(products));
});

router.post('/admin-add-product', async (req, res) => {
  const { name, description, price, image } = req.body;
  // ... implementation details
});

router.delete('/admin-products/:id', async (req, res) => {
  const { id } = req.params;
  // ... implementation details
});
      </div>
    </div>

    <div class="code-section">
      <div class="file-path">server/login-server.js</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">85% Generated</span></p>
      <p><strong>Description:</strong> User authentication with remember me functionality and activity logging.</p>
      <div class="code-block">
router.post('/login', loginLimiter, async (req, res) => {
  const { username, password, remember } = req.body;
  const users = await persist.readJSON('users.json');

  if (!users[username] || users[username].password !== password) {
    recordLoginFailure(username, req.loginRateEntry);
    return res.status(401).send('Invalid username or password');
  }

  clearLoginAttempts(username);

  // Cookie expiration based on remember me
  const maxAge = remember
    ? 1000 * 60 * 60 * 24 * 12     // 12 days
    : 1000 * 60 * 30;              // 30 minutes

  res.cookie('username', username, { maxAge });
  await persist.appendActivity({ username, type: 'login' });
  
  // ... user directory creation and activity logging
});
      </div>
    </div>

    <div class="code-section">
      <div class="file-path">server/store-server.js</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">80% Generated</span></p>
      <p><strong>Description:</strong> Store functionality with add-to-cart and DOS protection.</p>
      <div class="code-block">
// DOS protection for cart additions
const addCartTracker = {};
const RATE_LIMIT = 30;
const WINDOW_MS = 60 * 1000;

router.post('/add-to-cart', async (req, res) => {
  const username = req.cookies.username;
  if (!username) return res.status(401).send('You must be logged in');

  const { productId, quantity } = req.body;
  const qty = parseInt(quantity) || 1;

  // Rate limiting implementation
  const now = Date.now();
  if (!addCartTracker[username]) {
    addCartTracker[username] = [];
  }

  addCartTracker[username] = addCartTracker[username].filter(
    ts => now - ts.time < WINDOW_MS
  );

  const totalAdded = addCartTracker[username].reduce(
    (sum, ts) => sum + ts.qty, 0
  );

  if (totalAdded + qty > RATE_LIMIT) {
    return res.status(429).send(`Too many items added. Limit is ${RATE_LIMIT} per minute.`);
  }

  // ... cart addition logic
});
      </div>
    </div>

    <div class="code-section">
      <div class="file-path">server/persist_module.js</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">90% Generated</span></p>
      <p><strong>Description:</strong> Data persistence module for file-based storage operations.</p>
      <div class="code-block">
async function readJSON(file) {
  try {
    const filePath = path.join(__dirname, '../data', file);
    const data = await fs.readFile(filePath, 'utf-8');
    return JSON.parse(data);
  } catch (err) {
    if (err.code === 'ENOENT') {
      return {};
    }
    throw err;
  }
}

async function writeJSON(file, data) {
  const filePath = path.join(__dirname, '../data', file);
  await fs.writeFile(filePath, JSON.stringify(data, null, 2));
}

async function appendActivity({ username, type }) {
  const activityFile = path.join(__dirname, '../data/activity.json');
  let activity = [];
  
  try {
    const data = await fs.readFile(activityFile, 'utf-8');
    activity = JSON.parse(data);
  } catch (err) {
    // File doesn't exist yet
  }

  activity.push({
    datetime: new Date().toISOString(),
    username,
    type
  });

  await fs.writeFile(activityFile, JSON.stringify(activity, null, 2));
}
      </div>
    </div>

    <!-- Client Files -->
    <h2>üåê Client-Side Code (HTML/CSS/JavaScript)</h2>

    <div class="code-section">
      <div class="file-path">client/navbar.js</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">75% Generated</span></p>
      <p><strong>Description:</strong> Dynamic navigation bar with authentication state and dark mode toggle.</p>
      <div class="code-block">
// Dynamic navigation generation
const username = document.cookie
  .split('; ')
  .find(row => row.startsWith('username='))
  ?.split('=')[1];

// Dark mode toggle with localStorage persistence
function applyDarkModeFromStorage() {
  const isDark = localStorage.getItem('darkMode') === 'true';
  if (isDark) document.body.classList.add('dark-mode');
  const toggleBtn = document.getElementById('darkToggleBtn');
  if (toggleBtn) toggleBtn.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
}

document.addEventListener('click', (e) => {
  if (e.target.id === 'darkToggleBtn') {
    document.body.classList.toggle('dark-mode');
    const isDark = document.body.classList.contains('dark-mode');
    localStorage.setItem('darkMode', isDark ? 'true' : 'false');
    e.target.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
  }
});
      </div>
    </div>

    <div class="code-section">
      <div class="file-path">client/store.html</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">70% Generated</span></p>
      <p><strong>Description:</strong> Main store page with product display, search, and pagination.</p>
      <div class="code-block">
// Product search and filtering
function filterProducts() {
  const search = document.getElementById('searchInput').value.toLowerCase().trim();
  
  if (search === '') {
    storeFilteredProducts = [...storeProducts];
  } else {
    storeFilteredProducts = storeProducts.filter(product =>
      product.name.toLowerCase().includes(search) ||
      product.description.toLowerCase().includes(search)
    );
  }
  
  storeCurrentPage = 1;
  renderProducts();
  updatePagination();
}

// Pagination system
function updatePagination() {
  const totalPages = Math.ceil(storeFilteredProducts.length / storeItemsPerPage);
  
  document.getElementById('pageInfo').textContent = `Page ${storeCurrentPage} of ${totalPages}`;
  document.getElementById('prevBtn').disabled = storeCurrentPage === 1;
  document.getElementById('nextBtn').disabled = storeCurrentPage === totalPages;
  
  // ... page number generation
}
      </div>
    </div>

    <div class="code-section">
      <div class="file-path">client/admin.html</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">85% Generated</span></p>
      <p><strong>Description:</strong> Admin panel with activity monitoring and product management.</p>
      <div class="code-block">
// Activity loading with prefix filtering
async function loadActivity() {
  const prefix = prefixInput.value.trim();
  const res = await fetch('/admin-activity?prefix=' + encodeURIComponent(prefix));
  const data = await res.json();

  tableBody.innerHTML = '';
  data.forEach(entry => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${new Date(entry.datetime).toLocaleString()}</td>
      <td>${entry.username}</td>
      <td>${entry.type}</td>
    `;
    tableBody.appendChild(tr);
  });
}

// Product management
addForm.addEventListener('submit', async (e) => {
  e.preventDefault();
  const name = document.getElementById('productName').value.trim();
  const description = document.getElementById('productDescription').value.trim();
  const price = parseFloat(document.getElementById('productPrice').value);
  const image = document.getElementById('productImage').value.trim();

  const res = await fetch('/admin-add-product', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ name, description, price, image })
  });

  if (res.ok) {
    alert('Product added!');
    addForm.reset();
    loadProducts();
  } else {
    alert('Error: ' + await res.text());
  }
});
      </div>
    </div>

    <!-- Additional Pages -->
    <h2>‚ûï Additional Functionality Pages</h2>

    <div class="code-section">
      <div class="file-path">client/pay.html</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">80% Generated</span></p>
      <p><strong>Description:</strong> Payment processing page with form validation and order summary.</p>
      <div class="code-block">
// Payment form validation
function validatePaymentForm() {
  const cardNumber = document.getElementById('cardNumber').value;
  const expiry = document.getElementById('expiry').value;
  const cvv = document.getElementById('cvv').value;
  
  if (!cardNumber || !expiry || !cvv) {
    alert('Please fill in all payment fields');
    return false;
  }
  
  if (cardNumber.length !== 16) {
    alert('Card number must be 16 digits');
    return false;
  }
  
  if (cvv.length !== 3) {
    alert('CVV must be 3 digits');
    return false;
  }
  
  return true;
}

// Process payment
async function processPayment() {
  if (!validatePaymentForm()) return;
  
  try {
    const response = await fetch('/checkout', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ items: selectedItems })
    });
    
    if (response.ok) {
      window.location.href = 'thankyou.html';
    } else {
      alert('Payment failed: ' + await response.text());
    }
  } catch (error) {
    console.error('Payment error:', error);
    alert('Payment processing error');
  }
}
      </div>
    </div>

    <div class="code-section">
      <div class="file-path">client/store-react.html</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">95% Generated</span></p>
      <p><strong>Description:</strong> React.js alternative store implementation.</p>
      <div class="code-block">
function Store() {
  const [products, setProducts] = React.useState([]);
  const [search, setSearch] = React.useState('');

  React.useEffect(() => {
    fetch('/products')
      .then(res => res.json())
      .then(setProducts);
  }, []);

  const filtered = products.filter(p =>
    p.name.toLowerCase().includes(search.toLowerCase()) ||
    p.description.toLowerCase().includes(search.toLowerCase())
  );

  return (
    <div className="form-container">
      <h1>NBA Jerseys Store (React)</h1>
      <input
        type="text"
        placeholder="Search..."
        value={search}
        onChange={e => setSearch(e.target.value)}
        className="search-bar"
      />
      {filtered.map(p => (
        <div key={p.id} className="item-box">
          <h3>{p.name}</h3>
          <p>{p.description}</p>
          <p><strong>Price:</strong> ${p.price.toFixed(2)}</p>
          <button onClick={() => addToCart(p.id)}>Add to Cart</button>
        </div>
      ))}
    </div>
  );
}
      </div>
    </div>

    <!-- Security and Protection -->
    <h2>üîí Security and Protection Code</h2>

    <div class="code-section">
      <div class="file-path">server/dos-protection.js</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">90% Generated</span></p>
      <p><strong>Description:</strong> DOS attack protection with rate limiting.</p>
      <div class="code-block">
const rateLimit = require('express-rate-limit');

const dosLimiter = rateLimit({
  windowMs: 60 * 1000, // 1 minute
  max: 100, // limit each IP to 100 requests per windowMs
  message: 'Too many requests, please try again later.',
  standardHeaders: true,
  legacyHeaders: false,
});

module.exports = dosLimiter;
      </div>
    </div>

    <div class="code-section">
      <div class="file-path">server/login-protection.js</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">85% Generated</span></p>
      <p><strong>Description:</strong> Login attempt rate limiting and brute force protection.</p>
      <div class="code-block">
function loginLimiter(req, res, next) {
  const username = req.body.username;
  const now = Date.now();
  
  if (!loginAttempts[username]) {
    loginAttempts[username] = [];
  }
  
  // Remove attempts older than 15 minutes
  loginAttempts[username] = loginAttempts[username].filter(
    time => now - time < 15 * 60 * 1000
  );
  
  if (loginAttempts[username].length >= 5) {
    return res.status(429).send('Too many login attempts. Please try again later.');
  }
  
  req.loginRateEntry = { username, timestamp: now };
  next();
}
      </div>
    </div>

    <!-- Styling and CSS -->
    <h2>üé® Styling and CSS Code</h2>

    <div class="code-section">
      <div class="file-path">client/style.css</div>
      <p><strong>LLM Assistance Level:</strong> <span class="generated-tag">60% Generated</span></p>
      <p><strong>Description:</strong> Main stylesheet with responsive design and dark mode support.</p>
      <div class="code-block">
/* Dark mode implementation */
body.dark-mode {
  background-color: #121212 !important;
  color: #f0f0f0 !important;
}

body.dark-mode .form-container,
body.dark-mode .product-card {
  background-color: #1e1e1e !important;
  color: #f0f0f0 !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
}

body.dark-mode .nav-bar {
  background-color: #1a1a1a !important;
}

body.dark-mode .nav-bar a,
body.dark-mode .nav-bar button {
  color: #f0f0f0 !important;
}

/* Responsive design */
@media (max-width: 768px) {
  .products-grid {
    grid-template-columns: 1fr;
  }
  
  .pagination-container {
    flex-direction: column;
    gap: 15px;
  }
}
      </div>
    </div>

    <!-- Summary -->
    <div class="llm-note">
      <h3>üìä LLM Code Generation Summary</h3>
      <p><strong>Total Files:</strong> 12 server and client files</p>
      <p><strong>LLM Generated:</strong> ~85% of the codebase</p>
      <p><strong>Manual Implementation:</strong> ~15% (mostly configuration and fine-tuning)</p>
      <p><strong>Key Areas Assisted:</strong> Server architecture, authentication system, data persistence, UI components, security features, and responsive design</p>
    </div>

    <!-- Disclaimer -->
    <div class="code-section">
      <h3>‚ö†Ô∏è Important Disclaimer</h3>
      <p>While LLMs provided significant assistance in code generation, all code has been:</p>
      <ul>
        <li>Carefully reviewed and tested</li>
        <li>Customized for specific project requirements</li>
        <li>Integrated with existing codebase</li>
        <li>Validated for security and performance</li>
        <li>Tested across multiple scenarios</li>
      </ul>
      <p>The final implementation represents a collaborative effort between human developer expertise and AI assistance tools.</p>
    </div>
  </div>

  <script src="navbar.js"></script>
</body>
</html>
